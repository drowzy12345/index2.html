<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Phaze Menu</title>
<style>
  body {
    margin: 0;
    font-family: "Segoe UI", sans-serif;
    background: rgba(0,0,0,0.6);
    color: white;
  }
  .menu {
    width: 300px;
    margin: 80px auto;
    background: rgba(10,10,10,0.8);
    border-radius: 8px;
    padding: 8px;
    box-shadow: 0 0 15px rgba(0,120,255,0.6);
  }
  .header {
    text-align: center;
    font-weight: bold;
    padding: 8px;
    background: linear-gradient(90deg,#0044ff66,#0077ff44);
    border-radius: 6px;
    margin-bottom: 6px;
  }
  .item {
    padding: 5px 8px;
    margin: 2px 0;
    border-radius: 4px;
    transition: background 0.2s;
  }
  .item.active {
    background: rgba(0,120,255,0.4);
  }
</style>
</head>
<body>
  <div class="menu">
    <div class="header">Phaze Menu</div>
    <div id="menu-items"></div>
  </div>

<script>
window.addEventListener("message", (event) => {
  const data = event.data;

  if (data.action === "setCurrent") {
    const container = document.getElementById("menu-items");
    container.innerHTML = "";
    data.menu.forEach((item, i) => {
      const el = document.createElement("div");
      el.className = "item" + (i === data.current - 1 ? " active" : "");
      el.textContent = item.label || "Item";
      container.appendChild(el);
    });
  }

  if (data.action === "hover") {
    const items = document.querySelectorAll(".item");
    items.forEach(i => i.classList.remove("active"));
    if (items[data.index]) items[data.index].classList.add("active");
  }

  if (data.action === "setVisible") {
    document.body.style.display = data.visible and "block" or "none";
  }
});
</script>
</body>
</html>
